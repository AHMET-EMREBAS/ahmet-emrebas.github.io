@use '../common' as common;

:root {
  --white: rgb(239, 255, 238);
  --black: hsl(211, 100%, 5%);
  --green: hsl(120, 83%, 42%);
  --red: hsl(348, 83%, 47%);
}

@mixin build($colors) {
  :root {
    @each $colorName, $color in $colors {
      --#{$colorName}: #{$color};
      --#{$colorName}-face: #{common.faceColor($color)};

      --#{$colorName}-dark: #{darken($color, 10%)};
      --#{$colorName}-dark-face: #{common.faceColor(darken($color, 10%))};

      --#{$colorName}-darker: #{darken($color, 20%)};
      --#{$colorName}-darker-face: #{common.faceColor(darken($color, 20%))};

      --#{$colorName}-light: #{lighten($color, 10%)};
      --#{$colorName}-light-face: #{common.faceColor(lighten($color, 10%))};

      --#{$colorName}-lighter: #{lighten($color, 20%)};
      --#{$colorName}-lighter-face: #{common.faceColor(lighten($color, 20%))};

      @for $opacity from 1 through 10 {
        --#{$colorName}-opacity-#{$opacity}: #{rgba($color, $opacity * 0.1)};
      }
    }
  }

  @each $colorName, $__ in $colors {
    .#{$colorName} {
      color: var(--#{$colorName});
    }
    .bg-#{$colorName} {
      background-color: var(--#{$colorName});
    }
    @each $variant
      in (
        face,
        dark,
        dark-face,
        darker,
        darker-face,
        light,
        light-face,
        lighter,
        lighter-face
      )
    {
      $name: #{$colorName}-#{$variant};

      .#{$name} {
        color: var(--#{$name});
      }

      @for $opacity from 1 through 10 {
        $name: #{$colorName}-opacity-#{$opacity};
        .#{$name} {
          color: var(--#{$name});
        }
        .bg-#{$name} {
          background-color: var(--#{$name});
        }
      }
    }
  }
}
