@import '../common/variables';

/** $_buttonTypes: (basic, raised, stroked, flat, icon, fab, mini-fab); */
@mixin commonButton() {
  cursor: pointer;

  padding: 0px;
  padding-left: 1em;
  padding-right: 1em;
  margin: 0px;
  height: 3em;
  min-width: 80px;

  background-color: transparent;
  color: transparent;
  font-size: 1em;

  border: none;
  border-radius: 0.2em;

  outline-width: 0.3em;
  outline-color: rgba(255, 255, 255, 0);
  outline-style: double;

  font-family: var(--content-font);
  letter-spacing: 0.1em;
  font-weight: 800;
  text-transform: capitalize;

  user-select: none;
  text-align: center;
  vertical-align: middle;
}

@function createButtonSelector($colorName, $buttonName) {
  @return '.' + $colorName + '.' + $buttonName;
}

@mixin basicButton($colorName, $className) {
  #{$className} {
    @include commonButton();
    color: var(--#{$colorName});
    transition: background-color 100ms ease-in-out,
      outline-color 100ms ease-in-out;
  }
  #{$className}:hover {
    background-color: var(--#{$colorName}-3);
  }
  #{$className}:focus {
    outline-color: var(--#{$colorName}-3);
  }
  #{$className}:active {
    outline-color: var(--#{$colorName}-8);
  }
}

@mixin raisedButton($colorName, $selector) {
  #{$selector} {
    @include commonButton();
    background-color: var(--#{$colorName});
    color: var(--#{$colorName}-face);
    transition: background-color 100ms ease-in-out,
      outline-color 100ms ease-in-out, outline-style 100ms ease-in-out,
      box-shadow 200ms ease-in-out;

    box-shadow: 0px 0px 3px var(--#{$colorName}-8);
  }
  #{$selector}:hover {
    background-color: var(--#{$colorName}-dark);
    box-shadow: -1px 1px 5px var(--#{$colorName}-8),
      0px 0px 7px var(--#{$colorName}-8);
  }
  #{$selector}:focus {
    outline-color: var(--#{$colorName}-dark);
  }
  #{$selector}:active {
    background-color: var(--#{$colorName}-light);
  }
}

@mixin strokedButton($colorName, $className) {
  #{$className} {
    @include commonButton();
    color: var(--#{$colorName});
    transition: background-color 100ms ease-in-out,
      outline-color 100ms ease-in-out;
    border: 0.1em solid var(--#{$colorName}-lighter);
  }

  #{$className}:hover {
    background-color: var(--#{$colorName}-3);
  }
  #{$className}:focus {
    outline-color: var(--#{$colorName}-3);
  }
  #{$className}:active {
    background-color: var(--#{$colorName}-1);
  }
}

@mixin flatButton($colorName, $className) {
  #{$className} {
    @include commonButton();
    background-color: var(--#{$colorName});
    color: var(--#{$colorName}-face);
    transition: background-color 100ms ease-in-out,
      outline-color 100ms ease-in-out;
  }

  #{$className}:hover {
    background-color: var(--#{$colorName}-dark);
  }
  #{$className}:focus {
    outline-color: var(--#{$colorName}-dark);
  }
  #{$className}:active {
    background-color: var(--#{$colorName}-darker);
  }
}

@each $colorName in $colorNames {
  .icon-button {
  }
}

@each $colorName in $colorNames {
  .fab-button {
  }
}
@each $colorName in $colorNames {
  .mini-fab-button {
  }
}

@function colorAttr($colorName) {
  @return '[color="' + $colorName + '"]';
}

@include basicButton(primary, '.basic-button');
@include raisedButton(primary, '.raised-button');
@include flatButton(primary, '.flat-button');
@include strokedButton(primary, '.stroked-button');

@include basicButton(primary, '[tb-basic-button]');
@include raisedButton(primary, '[tb-raised-button]');
@include strokedButton(primary, '[tb-stroked-button]');
@include flatButton(primary, '[tb-flat-button]');

@each $colorName in $colorNames {
  /** Button selectors  */
  @include basicButton($colorName, '[tb-basic-button]' + colorAttr($colorName));

  @include raisedButton(
    $colorName,
    '[tb-raised-button]' + colorAttr($colorName)
  );

  @include flatButton($colorName, '[tb-flat-button]' + colorAttr($colorName));

  @include strokedButton(
    $colorName,
    '[tb-stroked-button]' + colorAttr($colorName)
  );

  /** Button classes  */
  @include basicButton(
    $colorName,
    createButtonSelector($colorName, 'basic-button')
  );

  @include raisedButton(
    $colorName,
    createButtonSelector($colorName, 'raised-button')
  );

  @include strokedButton(
    $colorName,
    createButtonSelector($colorName, 'stroked-button')
  );

  @include flatButton(
    $colorName,
    createButtonSelector($colorName, 'flat-button')
  );
}
