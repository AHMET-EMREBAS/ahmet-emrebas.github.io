<ng-template #menuItem let-data="data">
    <div class="tb-nav-list-item {{data.color}}" (click)="emit('click')">
        <tb-icon [icon]="data.icon" [bgColor]="data.color"></tb-icon>
        <span>{{data.label}}</span>
    </div>
</ng-template>

<ng-template #menu let-data="data">

    <div class="tb-dropdown-menu {{data.direction}} ">

        <ng-container *ngTemplateOutlet="menuItem;context:{data:data}"></ng-container>

        <div class="tb-dropdown-items">

            <ng-container *ngFor="let child of data.children">

                <!-- Has children? -->
                <ng-container *ngIf="child?.children">
                    <ng-container *ngTemplateOutlet="menu;context:{data:child}"></ng-container>
                </ng-container>

                <!-- Not have children? -->
                <ng-container *ngIf="!child?.children">
                    <ng-container *ngTemplateOutlet="menuItem;context:{data:child}"></ng-container>
                </ng-container>


            </ng-container>

        </div>

    </div>
</ng-template>


<ng-container *ngTemplateOutlet="menu;context:{data}"></ng-container>